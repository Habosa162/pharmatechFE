<div class="admin-layout mt-2">
  <!-- Debug Section -->
  <div class="profile-container mb-2">
    <div class="d-flex gap-2">
      <button (click)="debugUserData()" class="btn btn-sm btn-warning">
        <i class="fa fa-bug"></i> Debug User Data
      </button>
      <button (click)="reloadUserData()" class="btn btn-sm btn-info">
        <i class="fa fa-refresh"></i> Reload User Data
      </button>
    </div>
  </div>

  <div class="profile-container">
    <!-- Add Tab Navigation -->
    <div class="d-flex flex-row">
      <div class="profile-tabs">
        
        <!-- Master-specific navigation -->
        <ul
          class="nav nav-tabs d-flex flex-column"
          *ngIf="canAccessMaster()"
        >
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/master/dashboard"
              routerLinkActive="active"
            >
              <i class="fa fa-crown"></i> Master Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/master/system-settings"
              routerLinkActive="active"
            >
              <i class="fa fa-cog"></i> System Settings
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/master/audit-logs"
              routerLinkActive="active"
            >
              <i class="fa fa-list"></i> Audit Logs
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/master/global-config"
              routerLinkActive="active"
            >
              <i class="fa fa-sliders"></i> Global Configuration
            </a>
          </li>
        </ul>

        <!-- Owner-specific navigation -->
        <ul
          class="nav nav-tabs d-flex flex-column"
          *ngIf="canAccessOwner()"
        >
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/owner/dashboard"
              routerLinkActive="active"
            >
              <i class="fa fa-briefcase"></i> Owner Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/owner/business-analytics"
              routerLinkActive="active"
            >
              <i class="fa fa-bar-chart"></i> Business Analytics
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/owner/strategic-reports"
              routerLinkActive="active"
            >
              <i class="fa fa-file-text"></i> Strategic Reports
            </a>
          </li>
        </ul>

        <!-- Admin navigation -->
        <ul
          class="nav nav-tabs d-flex flex-column"
          *ngIf="canAccessAdmin()"
        >
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/admin/admin-dashboard"
              routerLinkActive="active"
            >
              <i class="fa fa-folder"></i> Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/my-appointments-clinic"
              routerLinkActive="active"
            >
              <i class="fa fa-calendar"></i> Appointments
            </a>
          </li>
          <li class="nav-item submenu">
            <a
              class="nav-link"
              data-bs-toggle="collapse"
              href="#Clinics"
              role="button"
              aria-expanded="false"
              aria-controls="Clinics"
            >
              <i class="fas fa-list"></i>
              Clinic
            </a>
            <div class="collapse" id="Clinics">
              <li>
                <a
                  routerLink="departments"
                  routerLinkActive="active"
                  class="ps-5 nav-link"
                >
                  <i class="fa fa-certificate"></i>
                  Departments
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="ps-5 nav-link"
                  routerLink="allemployees"
                  routerLinkActive="active"
                >
                  <i class="fa fa-certificate"></i>
                  Employees
                </a>
              </li>
            </div>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="admin/doctors"
              routerLinkActive="active"
            >
              <i class="fa fa-briefcase"></i> Doctors
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/admin/patients"
              routerLinkActive="active"
            >
              <i class="fa fa-user"></i>
              Patients
            </a>
          </li>

          <li class="nav-item submenu">
            <a
              class="nav-link"
              data-bs-toggle="collapse"
              href="#Reports"
              role="button"
              aria-expanded="false"
              aria-controls="Reports"
            >
              <i class="fas fa-list"></i>
              Reports
            </a>
            <div class="collapse" id="Reports">
              <li>
                <a
                  routerLink="/admin/invoices"
                  routerLinkActive="active"
                  class="ps-5 nav-link"
                >
                  <i class="fa fa-file"></i>
                  Invoice
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="ps-5 nav-link"
                  routerLink="transactions"
                  routerLinkActive="active"
                >
                  <i class="fa fa-credit-card"></i>
                  Transactions
                </a>
              </li>
            </div>
          </li>

          <li class="nav-item" *ngIf="canManageInventory()">
            <a
              class="nav-link"
              routerLink="inventory"
              routerLinkActive="active"
            >
              <i class="fa fa-package"></i>
              Inventory
            </a>
          </li>

          <li class="nav-item" *ngIf="canManageUsers()">
            <a
              class="nav-link"
              routerLink="/admin/admin-data-management"
              routerLinkActive="active"
            >
              <i class="fa fa-users"></i> Admin data management
            </a>
          </li>
        </ul>

        <!-- Doctor-specific navigation -->
        <ul
          class="nav nav-tabs d-flex flex-column"
          *ngIf="canAccessDoctor()"
        >
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/doctor/dashboard"
              routerLinkActive="active"
            >
              <i class="fa fa-stethoscope"></i> Doctor Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/doctor/my-appointments"
              routerLinkActive="active"
            >
              <i class="fa fa-calendar"></i> My Appointments
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/doctor/my-patients"
              routerLinkActive="active"
            >
              <i class="fa fa-users"></i> My Patients
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/doctor/schedule"
              routerLinkActive="active"
            >
              <i class="fa fa-clock"></i> Schedule
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/doctor/medical-records"
              routerLinkActive="active"
            >
              <i class="fa fa-file-text"></i> Medical Records
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/doctor/prescriptions"
              routerLinkActive="active"
            >
              <i class="fa fa-paper"></i> Prescriptions
            </a>
          </li>
        </ul>

        <!-- Employee-specific navigation -->
        <ul
          class="nav nav-tabs d-flex flex-column"
          *ngIf="canAccessEmployee()"
        >
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/employee/dashboard"
              routerLinkActive="active"
            >
              <i class="fa fa-briefcase"></i> Employee Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/employee/payments"
              routerLinkActive="active"
            >
              <i class="fa fa-credit-card"></i> Payments
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/employee/transactions"
              routerLinkActive="active"
            >
              <i class="fa fa-activity"></i> Transactions
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/employee/invoices"
              routerLinkActive="active"
            >
              <i class="fa fa-file"></i> Invoices
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/employee/customer-service"
              routerLinkActive="active"
            >
              <i class="fa fa-headphones"></i> Customer Service
            </a>
          </li>
        </ul>

        <!-- Accountant-specific navigation -->
        <ul
          class="nav nav-tabs d-flex flex-column"
          *ngIf="canAccessAccountant()"
        >
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/accountant/dashboard"
              routerLinkActive="active"
            >
              <i class="fa fa-dollar-sign"></i> Financial Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/accountant/reports"
              routerLinkActive="active"
            >
              <i class="fa fa-bar-chart"></i> Financial Reports
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/accountant/transactions"
              routerLinkActive="active"
            >
              <i class="fa fa-activity"></i> All Transactions
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/accountant/invoices"
              routerLinkActive="active"
            >
              <i class="fa fa-file"></i> Invoice Management
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/accountant/tax-reports"
              routerLinkActive="active"
            >
              <i class="fa fa-file-text"></i> Tax Reports
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/accountant/budget-planning"
              routerLinkActive="active"
            >
              <i class="fa fa-pie-chart"></i> Budget Planning
            </a>
          </li>
        </ul>

        <!-- User-specific navigation (for regular users) -->
        <ul
          class="nav nav-tabs d-flex flex-column"
          *ngIf="!canAccessAdmin() && !canAccessDoctor() && !canAccessEmployee() && !canAccessAccountant() && !canAccessMaster() && !canAccessOwner()"
        >
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/user/dashboard"
              routerLinkActive="active"
            >
              <i class="fa fa-home"></i> User Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/user/appointments"
              routerLinkActive="active"
            >
              <i class="fa fa-calendar"></i> My Appointments
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/user/profile"
              routerLinkActive="active"
            >
              <i class="fa fa-user"></i> Profile
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              routerLink="/user/settings"
              routerLinkActive="active"
            >
              <i class="fa fa-cog"></i> Settings
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
