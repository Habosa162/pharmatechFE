<div class="doctor-dashboard-container">
  <!-- Loading and Error States -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-2">Loading your dashboard...</p>
  </div>

  <div *ngIf="error" class="alert alert-danger" role="alert">
    {{ error }}
    <button class="btn btn-sm btn-outline-danger ms-2" (click)="refreshDashboard()">Retry</button>
  </div>

  <!-- Dashboard Content -->
  <div *ngIf="!loading && !error">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1 class="dashboard-title">
        <i class="fas fa-stethoscope text-primary"></i> Doctor Dashboard
      </h1>
      <button class="btn btn-outline-primary" (click)="refreshDashboard()">
        <i class="fas fa-sync-alt"></i> Refresh
      </button>
    </div>

    <!-- Welcome Message -->
    <div class="alert alert-success" role="alert">
      <strong>Welcome, Doctor!</strong> Here's an overview of your practice.
    </div>

    <!-- My Practice Statistics -->
    <div class="practice-stats-grid">
      <div class="stat-card primary" (click)="navigateToMyPatients()" style="cursor: pointer;">
        <div class="stat-icon">üë•</div>
        <div class="stat-content">
          <h3>My Patients</h3>
          <p class="stat-number">{{ roleStats?.doctorStats?.myPatients || 0 }}</p>
        </div>
      </div>

      <div class="stat-card success" (click)="navigateToMyAppointments()" style="cursor: pointer;">
        <div class="stat-icon">üìÖ</div>
        <div class="stat-content">
          <h3>My Appointments</h3>
          <p class="stat-number">{{ roleStats?.doctorStats?.myAppointments || 0 }}</p>
        </div>
      </div>

      <div class="stat-card warning" (click)="navigateToMySurgeries()" style="cursor: pointer;">
        <div class="stat-icon">üè•</div>
        <div class="stat-content">
          <h3>My Surgeries</h3>
          <p class="stat-number">{{ roleStats?.doctorStats?.mySurgeries || 0 }}</p>
        </div>
      </div>

      <div class="stat-card info" (click)="navigateToMedicalRecords()" style="cursor: pointer;">
        <div class="stat-icon">üìã</div>
        <div class="stat-content">
          <h3>Medical Records</h3>
          <p class="stat-number">{{ roleStats?.doctorStats?.myMedicalRecords || 0 }}</p>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions-section">
      <h3><i class="fas fa-bolt text-primary"></i> Quick Actions</h3>
      <div class="actions-grid">
        <button class="action-btn primary" (click)="navigateToMyAppointments()">
          <i class="fas fa-calendar"></i>
          <span>View Appointments</span>
        </button>

        <button class="action-btn success" (click)="navigateToMyPatients()">
          <i class="fas fa-users"></i>
          <span>My Patients</span>
        </button>

        <button class="action-btn warning" (click)="navigateToSchedule()">
          <i class="fas fa-clock"></i>
          <span>Schedule</span>
        </button>

        <button class="action-btn info" (click)="navigateToPrescriptions()">
          <i class="fas fa-prescription"></i>
          <span>Prescriptions</span>
        </button>

        <button class="action-btn secondary" (click)="navigateToMedicalRecords()">
          <i class="fas fa-file-medical"></i>
          <span>Medical Records</span>
        </button>

        <button class="action-btn dark" (click)="navigateToMySurgeries()">
          <i class="fas fa-procedures"></i>
          <span>Surgery Records</span>
        </button>
      </div>
    </div>

    <!-- Today's Summary -->
    <div class="summary-section">
      <h3><i class="fas fa-chart-line text-success"></i> Today's Summary</h3>
      <div class="summary-grid">
        <div class="summary-card">
          <div class="summary-icon pending">
            <i class="fas fa-clock"></i>
          </div>
          <div class="summary-content">
            <h4>Pending Appointments</h4>
            <p>Check your upcoming appointments</p>
          </div>
        </div>

        <div class="summary-card">
          <div class="summary-icon completed">
            <i class="fas fa-check-circle"></i>
          </div>
          <div class="summary-content">
            <h4>Completed Today</h4>
            <p>Review completed consultations</p>
          </div>
        </div>

        <div class="summary-card">
          <div class="summary-icon patients">
            <i class="fas fa-user-injured"></i>
          </div>
          <div class="summary-content">
            <h4>New Patients</h4>
            <p>Welcome new patients</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent Activity -->
    <div class="activity-section">
      <h3><i class="fas fa-history text-info"></i> Recent Activity</h3>
      <div class="activity-list">
        <div class="activity-item">
          <div class="activity-icon">
            <i class="fas fa-calendar-check"></i>
          </div>
          <div class="activity-content">
            <h5>Appointment Scheduled</h5>
            <p>New appointment with Patient #123 for tomorrow</p>
            <small>2 hours ago</small>
          </div>
        </div>

        <div class="activity-item">
          <div class="activity-icon">
            <i class="fas fa-file-medical"></i>
          </div>
          <div class="activity-content">
            <h5>Medical Record Updated</h5>
            <p>Updated medical record for Patient #456</p>
            <small>4 hours ago</small>
          </div>
        </div>

        <div class="activity-item">
          <div class="activity-icon">
            <i class="fas fa-prescription"></i>
          </div>
          <div class="activity-content">
            <h5>Prescription Created</h5>
            <p>New prescription issued for Patient #789</p>
            <small>6 hours ago</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> 